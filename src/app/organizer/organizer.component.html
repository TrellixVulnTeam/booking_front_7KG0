<app-organizer-header></app-organizer-header>
<div class="row home">
  <div class="col-sm-7">
    <form [formGroup]="eventForm" (ngSubmit)="onSubmit()">
      <div class="row">
          <div class="form-group row" style="margin-left: 10px; margin-top: 25px;">
            <label for="name" class="col-sm-2">Event name</label>
            <div class="col-sm-9">
            <input type="text" name="" id="name" class="form-control" formControlName="name" style="width: 100%;">
            </div>
          </div>
      </div>
      <div class="row">
        <div class="form-group row" style="margin-left: 10px; margin-top: 25px;">
          <label for="name" class="col-sm-2">Date of event</label>
          <div class="col-sm-9">
          <input type="date" name="" id="name" class="form-control" formControlName="date">
          </div>
        </div>
      </div>
      <div class="row">
        <div class="form-group row" style="margin-left: 10px; margin-top: 25px;">
          <label for="name" class="col-sm-2">Place</label>
          <div class="col-sm-9">
            <select class="form-select" formControlName="place">
              <option *ngFor="let place of places" [ngValue]="place" >{{place.name}}</option>
            </select>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="form-group row" style="margin-left: 10px; margin-top: 25px;">
          <label for="name" class="col-sm-2">Event description</label>
          <div class="col-sm-9">
          <textarea type="text" name="" id="name" class="form-control" rows="5" formControlName="description"></textarea>
          </div>
        </div>
      </div>
        <div class="row">
          <div class="form-group row" style="margin-left: 10px; margin-top: 25px;">
            <label for="name" class="col-sm-2">Choose type of event</label>
            <div class="col-sm-9">
              <select class="form-select" formControlName="eventType">
                <option *ngFor="let type of eventTypes" [ngValue]="type">{{type.name}}</option>
             </select>
            </div>
          </div>
        </div>

      <div class="row">
        <div class="col-sm-12" formArrayName = "TicketsCategory">
          <div class="form-group">
            <div class="row" style="border-width: 1px;"
            *ngFor="let item of controls;let i = index"
            [formGroupName]="i">
              <div class="form-group row" style="margin-left: 10px; margin-top: 25px;">
                <label for="name" class="col-sm-2">Ticket type name</label>
                <div class="col-sm-5">
                <input type="text" class="form-control" formControlName="name">
                </div>
                <div class="col-sm-2" style="margin-left: 10%">
                  <button class="btn btn-danger" (click)="onDeleteTicketCategory(i)">X</button>
                </div>
              </div>
              <div class="form-group row" style="margin-left: 10px; margin-top: 25px;">
                <label for="name" class="col-sm-2">Ticket type description</label>
                <div class="col-sm-5">
                <textarea type="text" class="form-control" rows="3" formControlName="description"></textarea>
                </div>
              </div>
              <div class="form-group row" style="margin-left: 10px; margin-top: 15px;">
                <label for="name" class="col-sm-2">Ticket type price</label>
                <div class="col-sm-5">
                <input type="number" class="form-control" formControlName="price">
                </div>
              </div>
              <div class="form-group row" style="margin-left: 10px; margin-top: 25px; margin-bottom: 20px;">
                <label for="name" class="col-sm-2">Ticket type capcity</label>
                <div class="col-sm-5">
                <input type="number" class="form-control" formControlName="maxSeats">
                </div>
              </div>

            </div>
            <div class="row">
              <div class="col-sm-12">
                <button type="button" class="btn btn-outline-secondary" (click)="onAddTicketType()" style="margin-top: 10px; margin-left: 20%; margin-bottom: 40px;">
                  Add ticket type
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-2" style="margin-left: 20%;">
        <button type="submit" class="btn btn-success" style="width: 100%; margin-bottom: 40px;" [disabled]="!eventForm.valid">Save</button>
      </div>

      <div class="alert alert-danger" role="alert" *ngIf="errorOccured">{{error}}</div>

    </form>
  </div>
  <div class="col-sm-4">
    <router-outlet></router-outlet>
  </div>
</div>
